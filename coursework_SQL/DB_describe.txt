
Описание к базе данных `youtube`

	База данных `youtube` (далее БД) относится к интернет-ресурсу www.youtube.com (далее сайт), и является реляционной базой данных с нормальной формой. Все таблицы связаны, и по смыслу отражают актуальную структуру базы данных сайта за август 2020 года. 
	БД состоит из 16 таблиц: `users`, `profiles`, `country`, `region`, `city`, `childs`, `media`, `media_types`, `apps`, `playlists`, `browses`, `downloads`, `likes`, `subscriptions`, `channels`, `channels_content`.
	Ниже представлено описание каждой таблицы БД.

	
`users` :
Самая важная "первичная" таблица, при регистрации новых пользователей сайта, идентификационные данные пользователей попадают в эту таблицу. 
Содержит в себе столбцы-атрибуты индекс (id), имя пользователя (first_name), его фамилия (last_name), электронная почта (email), телефон (phone), дата создания (created_at) и обновления данных (updated_at). 
Данные в столбцах id, email, phone должны быть уникальными.
Поддерживает следующие связи: 
	- один к одному с `profiles`; 
	- один ко многим с `childs`, `likes`, `channels`, `playlists`; 
	- многие ко многим с `media`, `subscriptions`.

`profiles` :
Является дополнительной таблицей для `users` и заполняется дополнительными данными от пользователей.
Содержит в себе столбцы-атрибуты индекс пользователя (user_id), пол (gender), день рождения (birthday), индекс города (city_id), региона (region_id) и страны проживания (country_id), дата создания (created_at) и обновления данных (updated_at).
Данные в столбце user_id должны быть уникальными.
Поддерживает следующие связи: 
	- один к одному с `users`;
	- один ко многим с `country`, `region`, `city`.

`country` :
Таблица со списком всех стран мира.
Содержит в себе столбцы-атрибуты индекс страны (id), название страны (name), текущая временная зона (crt_date).
Данные в столбце id, name должны быть уникальными.
Поддерживает связь один ко многим с `region`, `profiles`.

`region` :
Таблица с регионами стран.
Содержит в себе столбцы-атрибуты индекс региона (id), индекс страны (country_id), название региона (name), текущая временная зона (crt_date).
Поддерживает связь один ко многим с `country` `city`, `profiles`.

`city` :
Таблица с городами.
Содержит в себе столбцы-атрибуты индекс города (id), индекс региона (region_id), название города (name), текущая временная зона (crt_date).
Поддерживает связь один ко многим с `region`, `profiles`.

`childs` :
Таблица с детьми пользователя для введения ограничений на просмотр контента пользователем-родителем.
Содержит в себе столбцы-атрибуты индекс пользователя (user_id), индекс диапазона возраста ребенка (child_age_id), имя ребёнка (child_name), дата создания (created_at) и обновления данных (updated_at).
Поддерживает связь один ко многим с `users`, `child_ages`.

`media` :
Таблица с медиафайлами.
Содержит в себе столбцы-атрибуты индекс медиа (id), индекс по типу медиа (media_type_id), имя медиафайла (filename), размер медиафайла (size), метаданные (metadata), дата создания (created_at).
Данные в столбце id должны быть уникальными.
Поддерживает следующие связи: 
	- один ко многим с `media_types`; 
	- многие ко многим с `likes`, `playlists`, `channels_content`.

`media_types` :
Таблица с медиатипами. В зависимости от индекса id таблицы приложений `apps` названия медиатипов могут сильно варьироваться. 
Содержит в себе столбцы-атрибуты индекс медиатипа (id), индекс приложения (app_id), название медиатипа (name).
Данные в столбце id, app_id, name должны быть уникальными.
Поддерживает следующие связи: 
	- один ко многим с `apps`; 
	- многие ко многим с `media`.

`apps` :
Таблица с приложениями. На данный момент приложений всего пять. Грубо говоря это "типы типов медиа". К приложениям относятся Youtube TV, Youtube Music, Youtube детям, Академия для авторов, Youtube для музыкантов.
Содержит в себе столбцы-атрибуты индекс приложения (id), название приложения (name).
Данные в столбце id, name должны быть уникальными.
Поддерживает связь один ко многим с `media_types`.

`playlists` :
Таблица с плейлистами пользователя. 
Содержит в себе столбцы-атрибуты индекс плейлиста (id), индекс пользователя (user_id), индекс медиафайла (media_id), название плейлиста (name), дата создания (created_at) и обновления данных (updated_at).
Данные в столбце id должны быть уникальными.
Поддерживает следующие связи: 
	- один ко многим с `users`; 
	- многие ко многим с `media`.

`browses` :
Таблица с количеством просмотров медиафайлов.
Содержит в себе столбцы-атрибуты индекс медиафайла (media_id), количество просмотров (browse_count), дата создания (created_at) и обновления данных (updated_at).
Поддерживает связь один к одному с `media`.

`downloads` :
Таблица с количеством скачиваний медиафайлов.
Содержит в себе столбцы-атрибуты индекс медиафайла (media_id), количество скачиваний (download_count), дата создания (created_at) и обновления данных (updated_at).
Поддерживает связь один к одному с `media`.
`likes` :
Таблица с лайками.
Содержит в себе столбцы-атрибуты индекс пользователя (user_id),  индекс медиафайла (media_id), лайк(0)/дизлайк(1) (dislike), дата создания (created_at).
Поддерживает связь один ко многим с `users`, `media`.

`subscriptions` :
Таблица с подписками.
Содержит в себе столбцы-атрибуты индекс пользователя (user_id), индекс канала на который подписан пользователь (channel_id), дата создания (created_at).
Поддерживает следующие связи: 
	- один к одному с `channels`; 
	- многие ко многим с `users`.

`channels` :
Таблица с каналами сайта.
Содержит в себе столбцы-атрибуты индекс канала (id), индекс пользователя создавшего свой канал (user_id), название канала (name), описание канала (description), коммерческая электронная почта (email),  индекс страны (country_id), ссылка на внешний ресурс (reference), дата создания (created_at) и обновления данных (updated_at).
Данные в столбцах id, name должны быть уникальными.
Поддерживает связь один к одному с `channels_content`, `subscriptions`.
`channels_content` :
Таблица с контентом канала.
Содержит в себе столбцы-атрибуты индекс канала (channel_id), индекс медиафайла (user_id), описание к медиафайлу (description), дата создания (created_at) и обновления данных (updated_at).
Поддерживает следующие связи: 
	- один к одному с `channels`; 
	- многие ко многим с `media`.
